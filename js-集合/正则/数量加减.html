<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			input{
				font-family: "微软雅黑";
				width: 60px;
				height: 40px;
				line-height: 40px;
				text-align: center;
				font-size: 25px;
			}
			#minus{
				cursor: not-allowed;
			}
		</style>
	</head>
	<body>
		<input type="button" value="-" id="minus" disabled="disabled">
		<input type="text" id="num" value="1"/>
		<input type="button" id="plus" value="+"/>
		<script>
			var minus = document.getElementById("minus");
			var num = document.getElementById("num");
			var plus = document.getElementById("plus");
			//加号的点击
			plus.onclick = function(){
				var n = parseInt(num.value);
				if(n<199&&n>0){
					num.value = n+1;
					console.log(minus.disabled);
					minus.disabled = false;
					minus.style.cursor = "pointer";
					if(num.value==199){
						plus.disabled = true;
						plus.style.cursor = "not-allowed";
					}
				}else{
					plus.disabled = true;
					plus.style.cursor = "not-allowed";
				}
			}
			//减号的点击
			minus.onclick = function(){
				var n = parseInt(num.value);
				if(n>1&&n<200){
					num.value = n-1;
					plus.disabled = false;
					plus.style.cursor = "pointer";
					if(num.value==1){
						minus.disabled = true;
						minus.style.cursor = "not-allowed";
					}
				}else{
					minus.disabled = true;
					minus.style.cursor = "not-allowed";
				}		
			}
			//键盘松开数字的处理
			num.onkeyup = function(){
				setTimeout(function(){
					var n = num.value;
					n1 = n.replace(/\D/g,"")?n.replace(/\D/g,""):1;
					num.value = n1<200?n1:199;
					if(num.value==1){
						minus.disabled = true;
						minus.style.cursor = "not-allowed";
					}else{
						minus.disabled = false;
						minus.style.cursor = "pointer";
					}
					if(num.value==199){
						plus.disabled = true;
						plus.style.cursor = "not-allowed";
					}else{
						plus.disabled = false;
						plus.style.cursor = "pointer";
					}
				},500)	
			}
		</script>
	</body>
</html>
